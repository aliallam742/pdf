import{a as O}from"./chunk-DBFGYJVF.js";import{a as F}from"./chunk-D33EGOPS.js";import{b as V,j as N,k as M,o as B}from"./chunk-X2VSWO25.js";import"./chunk-SPLEEHVV.js";import"./chunk-U3FSVHWY.js";import{n as k}from"./chunk-EPQI4F3N.js";import"./chunk-W75VPDLJ.js";import{l as R}from"./chunk-QYK7AOWZ.js";import"./chunk-XSSXK7EZ.js";import{q as I}from"./chunk-4644OJJN.js";import{Bb as d,Cb as x,Jb as T,Kb as a,Lb as c,Pa as s,Qa as v,Sb as y,Tb as S,Ub as E,V as C,Z as u,_ as h,ac as P,bc as b,lb as D,nb as g,sb as e,tb as i,ub as m,yb as w}from"./chunk-Y7QBYHK6.js";function j(r,o){if(r&1){let l=w();e(0,"tr")(1,"th"),a(2,"Name "),e(3,"span",10),d("click",function(){u(l);let n=x();return h(n.sortData())}),m(4,"i",11),i()(),e(5,"th"),a(6,"Document ID."),e(7,"span",12),m(8,"i",13),i()(),e(9,"th"),a(10,"Ban Date From "),e(11,"span",10),d("click",function(){u(l);let n=x();return h(n.sortDate())}),m(12,"i",13),i()(),e(13,"th"),a(14,"Ban Date To."),e(15,"span",12),m(16,"i",13),i()(),e(17,"th"),a(18,"Card Number"),e(19,"span",12),m(20,"i",13),i()(),m(21,"th"),i()}}var z=r=>["/mainlayout/report/details",r];function A(r,o){if(r&1&&(e(0,"tr")(1,"td"),a(2),i(),e(3,"td"),a(4),i(),e(5,"td"),a(6),P(7,"date"),i(),e(8,"td"),a(9),P(10,"date"),i(),e(11,"td"),a(12),i(),e(13,"td")(14,"button",14),a(15,"Details"),i()()()),r&2){let l=o.$implicit;s(2),c(l.fullName),s(2),c(l.documentId),s(2),c(b(7,6,l.registrationDate)),s(3),c(b(10,8,l.expiryDate)),s(3),c(l.cardNumber),s(2),g("routerLink",E(10,z,l.id))}}var $=()=>({"min-width":"50rem"}),q=()=>[5,10,30],ee=(()=>{let o=class o{constructor(t){this.apiService=t,this.rows=10,this.currentPage=1,this.search="",this.registrationFrom="",this.registrationTo="",this.param={PageNumber:this.currentPage,PageSize:this.totalRecords}}ngOnInit(){this.loadData(this.currentPage)}loadData(t){this.apiService.getInvitationData(t,this.rows,this.search,this.registrationFrom,this.registrationTo).subscribe({next:n=>{this.data=n.data.data,this.totalRecords=n.data.totalCount}})}onPageChange(t){this.currentPage=t.page+1,this.rows=t.rows,this.loadData(this.currentPage)}onSearch(t){this.search=t,this.loadData(1)}sortData(){this.data.sort((t,n)=>t.fullName.localeCompare(n.fullName))}sortDate(){this.data.sort((t,n)=>{let p=new Date(t.registrationDate),_=new Date(n.registrationDate);return p-_})}};o.\u0275fac=function(n){return new(n||o)(v(O))},o.\u0275cmp=C({type:o,selectors:[["app-table"]],standalone:!0,features:[y],decls:11,vars:8,consts:[[1,"px-3"],[1,"d-flex","align-content-center","justify-content-between","w-100","my-3"],[1,"p-input-icon-right","me-5"],[1,"pi","pi-search"],["placeholder","Search here...","type","text","pInputText","",3,"keyup"],["search",""],[1,"w-100",3,"value","tableStyle"],["pTemplate","header"],["pTemplate","body"],["currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries",1,"w-100",3,"showCurrentPageReport","rows","totalRecords","rowsPerPageOptions","onPageChange"],[1,"sort",3,"click"],[1,"pi","pi-sort-alpha-down"],[1,"sort"],[1,"pi","pi-sort-numeric-down"],[1,"btn","btn-sm","btn-primary","rounded-5",3,"routerLink"]],template:function(n,p){if(n&1){let _=w();e(0,"div",0)(1,"div",1)(2,"div")(3,"span",2),m(4,"i",3),e(5,"input",4,5),d("keyup",function(){u(_);let f=T(6);return h(p.onSearch(f.value))}),i()()()(),e(7,"p-table",6),D(8,j,22,0,"ng-template",7)(9,A,16,12,"ng-template",8),i(),e(10,"p-paginator",9),d("onPageChange",function(f){return p.onPageChange(f)}),i()()}n&2&&(s(7),g("value",p.data)("tableStyle",S(6,$)),s(3),g("showCurrentPageReport",!0)("rows",p.rows)("totalRecords",p.totalRecords)("rowsPerPageOptions",S(7,q)))},dependencies:[F,k,I,B,R,V,M,N],styles:[".sort[_ngcontent-%COMP%]{cursor:pointer;margin-left:8px}td[_ngcontent-%COMP%]{max-width:20rem;text-wrap:wrap;border-bottom:1px solid #918f8f30;text-align:center}"]});let r=o;return r})();export{ee as TableComponent};
