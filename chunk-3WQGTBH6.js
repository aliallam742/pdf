import{a as F}from"./chunk-MWH7WWRR.js";import{a as U}from"./chunk-D33EGOPS.js";import{o as $}from"./chunk-X2VSWO25.js";import{a as T}from"./chunk-JCWPYGSE.js";import"./chunk-SPLEEHVV.js";import{c as k,e as c,g as M,h as q,i as D,j as w,l as A,m as G,n as V}from"./chunk-U3FSVHWY.js";import{m as N}from"./chunk-EPQI4F3N.js";import"./chunk-W75VPDLJ.js";import{g as P}from"./chunk-QYK7AOWZ.js";import"./chunk-XSSXK7EZ.js";import{k as L,n as I}from"./chunk-4644OJJN.js";import{Bb as h,Cb as E,Kb as o,Pa as a,Rb as b,Sb as x,Ub as S,V as y,lb as d,na as C,nb as m,sb as t,tb as n,ub as g}from"./chunk-Y7QBYHK6.js";function j(e,l){e&1&&(t(0,"small",25),o(1,"Username is requred"),n())}function z(e,l){e&1&&(t(0,"small",25),o(1,"minimum length is 3 characters"),n())}function B(e,l){if(e&1&&(t(0,"div",23),d(1,j,2,0,"small",24)(2,z,2,0,"small",24),n()),e&2){let p=E(),s,i;a(),m("ngIf",(s=p.loginForm.get("username"))==null?null:s.getError("required")),a(),m("ngIf",(i=p.loginForm.get("username"))==null?null:i.getError("minlength"))}}function H(e,l){e&1&&(t(0,"small",27),o(1,"password is requred"),n())}function J(e,l){e&1&&(t(0,"small",27),o(1,"minimum length is 6 characters"),n())}function K(e,l){if(e&1&&(t(0,"div",23),d(1,H,2,0,"small",26)(2,J,2,0,"small",26),n()),e&2){let p=E(),s,i;a(),m("ngIf",(s=p.loginForm.get("password"))==null?null:s.getError("required")),a(),m("ngIf",(i=p.loginForm.get("password"))==null?null:i.getError("minlength"))}}var R=e=>({"bad-input":e}),O=e=>({"disabled-butn":e}),ae=(()=>{let l=class l{constructor(){this._authService=C(T),this.router=C(N),this.loginForm=new D({username:new w("",[c.required,c.minLength(3)]),password:new w("",[c.required,c.minLength(6)])})}register(){this.router.navigate([`/${F.register}`])}resetpass(){this.router.navigate([`/${F.forgetPassword}`])}submitLogin(s){this._authService.LogIn(s.value).subscribe({next:i=>{i.succeeded&&(localStorage.setItem("token",i.data.token),this._authService.saveUserData(),this.router.navigate([`/${F.mainLayout}`]))},error:i=>{console.log(i)},complete:()=>{}})}};l.\u0275fac=function(i){return new(i||l)},l.\u0275cmp=y({type:l,selectors:[["app-login"]],standalone:!0,features:[b([P]),x],decls:39,vars:13,consts:[[1,"auth"],[1,"auth-card"],[1,"row"],[1,"col-md-6"],[1,"auth-img-text"],["src","../../../../assets/auth/images/login.png","alt","",1,"auth-img"],[1,"auth-text"],[1,"logo"],["src","../../../../assets/auth/images/logo.png","alt","","srcset",""],[1,"h-50","ps-5"],[1,"auth-form"],[1,"form-head"],[3,"formGroup","ngSubmit"],[1,"auth-input"],["for","username"],["formControlName","username","type","text","placeholder","Enter User Name","id","username",1,"input",3,"ngClass"],["class","error-div",4,"ngIf"],["for","password"],["type","password","formControlName","password","placeholder","\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022",1,"input",3,"ngClass"],[1,"auth-p"],[3,"click"],["type","submit",1,"form-btn",3,"disabled","ngClass"],[1,"form-paragraph","text-center"],[1,"error-div"],["id","username-help","class","p-error",4,"ngIf"],["id","username-help",1,"p-error"],["id","password-help","class","p-error",4,"ngIf"],["id","password-help",1,"p-error"]],template:function(i,r){if(i&1&&(t(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),g(5,"img",5),t(6,"div",6)(7,"div",7),g(8,"img",8),n(),t(9,"div",9)(10,"h2"),o(11,"Automation Visitors Management System"),n(),t(12,"p"),o(13,"Streamlining Entry: Enhancing Security and Efficiency with Automation in Visitor Management"),n()()()()(),t(14,"div",3)(15,"div",10)(16,"div")(17,"h2",11),o(18,"Sign In"),n(),t(19,"form",12),h("ngSubmit",function(){return r.submitLogin(r.loginForm)}),t(20,"div",13)(21,"label",14),o(22,"User Name"),n(),g(23,"input",15),d(24,B,3,2,"div",16),n(),t(25,"div",13)(26,"label",17),o(27,"Password"),n(),g(28,"input",18),t(29,"div",19)(30,"span",20),h("click",function(){return r.resetpass()}),o(31,"forget password?"),n()(),d(32,K,3,2,"div",16),n(),t(33,"button",21),o(34,"Login"),n(),t(35,"p",22),o(36,"Don\u2019t have an account?"),t(37,"span",20),h("click",function(){return r.register()}),o(38,"Signup"),n()()()()()()()()()),i&2){let u,f,_,v;a(19),m("formGroup",r.loginForm),a(4),m("ngClass",S(7,R,((u=r.loginForm.get("username"))==null?null:u.errors)&&((u=r.loginForm.get("username"))==null?null:u.touched))),a(),m("ngIf",((f=r.loginForm.get("username"))==null?null:f.errors)&&((f=r.loginForm.get("username"))==null?null:f.touched)),a(4),m("ngClass",S(9,R,((_=r.loginForm.get("password"))==null?null:_.errors)&&((_=r.loginForm.get("password"))==null?null:_.touched))),a(4),m("ngIf",((v=r.loginForm.get("password"))==null?null:v.errors)&&((v=r.loginForm.get("password"))==null?null:v.touched)),a(),m("disabled",r.loginForm.invalid)("ngClass",S(11,O,r.loginForm.invalid))}},dependencies:[U,A,k,M,q,G,V,L,I,$]});let e=l;return e})();export{ae as LoginComponent};
